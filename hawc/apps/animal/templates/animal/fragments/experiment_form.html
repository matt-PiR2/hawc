{% load crispy_forms_tags %}

<form class="border my-2 p-2"
    hx-target="this" hx-swap="outerHTML">
    {% csrf_token %}
    {% crispy form %}
    <div class="well d-flex flex-row-reverse">
    {% if form.instance.id %}
        <button
            class="btn btn-sm btn-primary mx-1"
            hx-post="{% url 'animal:v2-experiment-update' object.id %}"
            ><i class="fa fa-fw fa-save mr-1"></i>Update</button>
        <button
            class="btn btn-sm btn-secondary mx-1"
            hx-get="{% url 'animal:v2-experiment-detail' object.id %}"
            ><i class="fa fa-fw fa-times mr-1"></i>Cancel</button>
    {% else %}
        <button
            class="btn btn-sm btn-primary mx-1"
            hx-post="{% url 'animal:v2-experiment-create' parent.id %}"
            ><i class="fa fa-fw fa-save mr-1"></i>Create</button>
        <button
            class="btn btn-sm btn-secondary mx-1"
            type='button'
            onclick="this.parentNode.parentNode.outerHTML = ''"><i class="fa fa-fw fa-times mr-1"></i>Cancel</button>
    {% endif %}
    </div>
</form>
